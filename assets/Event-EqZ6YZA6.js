import{g as I,a as R,r as x,j as r}from"./index-DYKSIffw.js";var S={exports:{}},F={exports:{}};const O={},_=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),A=I(_);var E;function z(){if(E)return F.exports;E=1;const l=A,f=async o=>new Promise((p,v)=>{const e=l.request(o,s=>{const n=[];let i=!1;s.on("data",a=>{if(!i&&!String(a).startsWith("/*O_o*/"))return p(null);i=!0,n.push(a)}),s.on("end",()=>{p({ok:!0,text:()=>Buffer.concat(n).toString()})})});e.on("error",v),e.end()});return F.exports=f,F.exports.default=f,F.exports}(function(l){const f=typeof window<"u"&&typeof window.document<"u",o=f?window.fetch:z();class p{constructor(e,s){this.id=e,this.setOption(s)}setOption(e){e?typeof e=="string"?(this.sheetName=e,this.sheetId=this.sheetId||null):typeof e=="object"&&(this.sheetName=e.sheetName||this.sheetName,this.sheetId=e.sheetId||this.sheetId,this.useFormattedDate=e.hasOwnProperty("useFormattedDate")?e.useFormattedDate:this.useFormattedDate,this.useFormat=e.hasOwnProperty("useFormat")?e.useFormat:this.useFormat):(this.sheetName=this.sheetName||null,this.sheetId=this.sheetId||null,this.useFormattedDate=this.useFormattedDate||!1,this.useFormat=this.useFormat||!1)}isDate(e){return e&&typeof e=="string"&&/Date\((\d+),(\d+),(\d+)\)/.test(e)}async getSpreadsheetDataUsingFetch(){if(!this.id)return null;let e=`https://docs.google.com/spreadsheets/d/${this.id}/gviz/tq?`;e+=this.sheetId?`gid=${this.sheetId}`:`sheet=${this.sheetName}`;try{const s=await o(e);return s&&s.ok?s.text():null}catch(s){return console.error("Error fetching spreadsheet data:",s),null}}normalizeRow(e){return e.map(s=>s&&s.v!==null&&s.v!==void 0?s:{})}applyHeaderIntoRows(e,s){return s.map(({c:n})=>this.normalizeRow(n)).map(n=>n.reduce((i,a,m)=>a.v!==null&&a.v!==void 0?Object.assign(i,{[e[m]]:this.useFormat?a.f||a.v:this.useFormattedDate&&this.isDate(a.v)&&a.f||a.v}):i,{}))}getItems(e){let s=[];try{const n=/google\.visualization\.Query\.setResponse\(({.*})\);/,[i,a]=e.match(n),m=JSON.parse(a);if(m.table.cols.some(({label:c})=>!!c)){const c=m.table.cols.map(({label:j})=>j);s=this.applyHeaderIntoRows(c,m.table.rows)}else{const[c,...j]=m.table.rows,N=this.normalizeRow(c.c).map(t=>t.v);s=this.applyHeaderIntoRows(N,j)}}catch(n){console.error("Error parsing spreadsheet data:",n)}return s}async parse(e,s){if(e&&(this.id=e),s&&this.setOption(s),!this.id)throw new Error("SpreadsheetId is required.");const n=await this.getSpreadsheetDataUsingFetch();return n===null?[]:this.getItems(n)}}l.exports=p,l.exports.default=p})(S);var B=S.exports;const L=R(B),C=()=>{var N;const[l,f]=x.useState({}),[o,p]=x.useState(""),[v,e]=x.useState([]),[s,n]=x.useState(1),i=3;x.useEffect(()=>{const t="1RQ2PZMRKjBVHpG0ettmuiDjjxzpF7OfFDfXlJDT0ElE";new L(t).parse().then(h=>{var b;const u=h.reduce((g,w)=>{const P=w["Area ----------------->"]||"Unknown Area",k=D(w["Tanggal "]);return new Date(k)<new Date||(g[P]||(g[P]=[]),g[P].push(w)),g},{});f(u);const y=((b=u[o])==null?void 0:b.length)||0;e(a(y))})},[o]);const a=t=>{const d=Math.ceil(t/i),h=[];for(let u=1;u<=d;u++)h.push(u);return h},m=t=>{n(t)},D=t=>{if(!t||typeof t!="string")return null;const d=/^Date\((\d+),(\d+),(\d+)\)$/,h=t.match(d);if(!h)return null;const[,u,y,b]=h,g=new Date(u,y,b),w={day:"numeric",month:"long",year:"numeric"};return g.toLocaleDateString("en-GB",w)},c=o?(N=l[o])==null?void 0:N.slice((s-1)*i,s*i):[];x.useEffect(()=>{},[l,c,v]),x.useEffect(()=>{if(o&&l[o]){const t=l[o].length;e(a(t))}},[o,l]);const j=Object.keys(l).filter(t=>l[t].length>0);return r.jsxs("div",{className:"h-full",children:[r.jsxs("div",{className:"h-[8vh]",children:[r.jsx("div",{className:"h-[3vh]"}),r.jsx("p",{className:"text-3xl text-center",children:"List Event"})]}),r.jsx("div",{className:"h-[5vh] flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{htmlFor:"area-filter",className:"text-[]",children:["Filter by Area :"," "]}),r.jsxs("select",{id:"area-filter",className:"w-[50vw] bg-[#ffffff] text-[#f3746d] rounded-md text-xl",onChange:t=>p(t.target.value),value:o,children:[r.jsx("option",{value:"",className:"text-gray-500 text-center",children:"----Select Area----"}),j.map((t,d)=>r.jsx("option",{value:t,children:t},d))]})]})}),r.jsx("div",{id:"events-container",className:"max-w-2xl mx-auto h-[150vh]",children:c==null?void 0:c.map((t,d)=>{const h=D(t["Tanggal "]);if(h){const[u,y,b]=h.split(" ");return r.jsxs("div",{className:"flex flex-col md:flex-row shadow-lg border rounded-lg my-5 p-5",children:[r.jsxs("div",{className:"bg-[#f3746d] text-[#ffffff] text-center p-8 rounded-t-lg md:rounded-l-lg md:rounded-t-none flex flex-col justify-center items-center",children:[r.jsx("div",{className:"text-[5rem] font-bold",children:u}),r.jsx("div",{className:"text-[1rem] font-normal month w-[100px] text-center mb-[0.5rem]",children:y})]}),r.jsxs("div",{className:"flex flex-col justify-center px-6 py-4 text-center",children:[r.jsx("a",{href:t["Link Acara bit.ly/JFestAdd"],target:"_blank",className:"text-[#f3746d] text-[1.25rem] uppercase mb-2",rel:"noopener noreferrer",children:t["Nama Acara (Link acara klik) Post atau edit event (komentar di chart) atau ke grup fb-> Join grup ->"]}),r.jsx("div",{className:"text-gray-600",children:t["Lokasi (baca keterangan lebih lanjut di Facebook Page) Eventmu belum ada? perbaikan jadwal event? -->"]})]})]},d)}return null})}),r.jsx("div",{className:"h-[10vh]"}),r.jsx("div",{id:"pagination",className:"flex justify-center gap-4 mt-8 h-[5vh]",children:v.map((t,d)=>r.jsx("button",{className:`px-4 py-2 bg-[#f3746d] text-white rounded-md ${s===t?"bg-[#d56c56]":""}`,onClick:()=>m(t),children:t},d))}),r.jsx("div",{className:"h-[1vh]"}),r.jsxs("div",{className:"h-[15vh]",children:[r.jsxs("p",{className:"text-sm ml-5 text-center",children:[r.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1RQ2PZMRKjBVHpG0ettmuiDjjxzpF7OfFDfXlJDT0ElE/edit?gid=672618632#gid=672618632",target:"_blank",rel:"noopener noreferrer",children:"*Source from jfest chart"}),"Â by"]}),r.jsx("p",{className:"text-sm ml-5 text-center",children:r.jsx("a",{href:"https://web.facebook.com/groups/251875943835",target:"_blank",rel:"noopener noreferrer",children:"JFEST INDO LOVER"})})]})]})};export{C as default};
